# このリポジトリは？
このリポジトリでは、IoTデバイスのデータ保存先に無料で使用できるgoogle sheetsを使うことを検討していく過程を記載します。

# 解決したい問題点
一般的なIoTデータ収録では特定のサービスプロバイダと契約して、データストレージやグラフ化などのサービスを組み合わせてデータ収録系を構築します。<br>
しかし、IoTのフィジビリティ確認やテストの段階では機能がオーバースペックなところも多々あり、何より費用がかかります。<br>
そこで、google sheets と Google Apps Scriptを組み合わせてデータ収集のwebアプリ的なものを作ることにより、簡易的なIoTデータ収録ができないだろうかと考えました。<br>
これにより、インターネットにアクセスできるデバイスであれば比較的簡単にデータをgoogle sheetsに向けてデータを送信することができ、google sheets内部でグラフ化やアラーム発呼などの処理をスクリプトとして記述することで有償サービスの代替えができる可能性があると考えます。

# なにが書かれているか
このリポジトリでは、以下のことをまとめています。
- 基本的なデータ保存のためのGASのコード
- データを送るエッジデバイスのコード
- その他必要になりそうな機能のコード

このリポジトリのルート部分にはGASのコードが保管されています。

# システムの全体像

この図にしめしたように、google sheet 内にGASを通じてHTTPプロトコル(POSTメソッド)でデータを送ります。<br>
送られたデータはスプレッドシート上に受信時間のタイムスタンプと共に記録され、シートを開くことで人間が直接確認することができます。<br>
送られるデータはJSONフォーマットで、JSONのキー名に対応するデータをシート上のどの列に書き込むかはGASスクリプトで決めています。

将来の拡張として、HTTPでの読み出しリクエストに応答して、表内（保存データ）の一部のデータや、統計データなどを返すようなスクリプトも記述が可能かと思います。
